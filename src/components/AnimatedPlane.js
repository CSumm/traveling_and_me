import React, {useRef, useEffect} from 'react';
import { gsap } from 'gsap';
import { MotionPathPlugin, ScrollTrigger } from 'gsap/all';
import './AnimatedPlane.css';

gsap.registerPlugin({MotionPathPlugin, ScrollTrigger});

const AnimatedPlane = () => {

    useEffect(()=> {
    

    gsap.to('#plane', {x:"50vw", y:600, rotation: -15, ease:"in",  duration: 3, scrollTrigger: {
        trigger: "#plane",
        pin: true,   // pin the trigger element while active
        start: "top bottom", // when the top of the trigger hits the top of the viewport
        end: "+=800", // end after scrolling 500px beyond the start
        scrub: true, // smooth scrubbing, takes 1 second to "catch up" to the scrollbar
        toggleActions: "restart none none none",
        markers: {
            startColor: "purple",
            endColor: "blue"
        }
    }
});
    gsap.from('.blade', {rotation: 360, duration: 4, transformOrigin: "50% 50%"})

    })

    return (
        <div className="animated-plane">
            <svg id="plane" width="200px" viewBox="0 0 2481 3508" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><path d="M920.728 1259.633l345.1 261.03-224.706 154.584-120.394-415.614zM339.209 1053.904l566.665 442.242-339.327 239.67-227.338-681.912zM718.063 2137.167l133.74-411.095 217.988 159.753-351.728 251.342z" fill="#e9ec50"/><path d="M1698.881 2006.74c50.385 8.736 98.396-25.082 107.134-75.473l38.858-224.097c8.74-50.4-25.084-98.404-75.47-107.14l-1161.61-201.422c-50.385-8.736-98.395 25.077-107.134 75.477l-38.858 224.098c-8.738 50.39 25.085 98.399 75.47 107.135l1161.61 201.421z" fill="#e9ec50"/><path d="M1801.232 1760.488c19.156 3.322 37.44-9.544 40.765-28.719l14.787-85.275c3.325-19.178-9.56-37.447-28.717-40.769L540.201 1382.411c-19.174-3.324-37.44 9.543-40.765 28.722l-14.787 85.274c-3.325 19.175 9.543 37.443 28.717 40.768l1287.866 223.313z" fill="#dd9373"/><path d="M1531.806 1787.092c19.968 2.811 38.46-11.119 41.271-31.084l11.21-79.638c2.811-19.97-11.118-38.461-31.086-41.272l-74.565-10.496c-19.966-2.81-38.459 11.117-41.27 31.086l-11.21 79.638c-2.81 19.966 11.119 38.46 31.085 41.27l74.565 10.496zM1306.596 1747.172c19.968 2.811 38.46-11.119 41.271-31.084l11.21-79.638c2.811-19.97-11.118-38.461-31.086-41.272l-74.565-10.496c-19.966-2.81-38.459 11.117-41.27 31.086l-11.21 79.638c-2.81 19.966 11.119 38.46 31.085 41.27l74.565 10.496zM1084.226 1710.112c19.968 2.811 38.46-11.119 41.271-31.084l11.21-79.638c2.811-19.97-11.118-38.461-31.086-41.272l-74.565-10.496c-19.966-2.81-38.459 11.117-41.27 31.086l-11.21 79.638c-2.81 19.966 11.119 38.46 31.085 41.27l74.565 10.496zM833.356 1658.802c19.968 2.811 38.46-11.119 41.271-31.084l11.21-79.638c2.811-19.97-11.118-38.461-31.086-41.272l-74.565-10.496c-19.966-2.81-38.459 11.117-41.27 31.086l-11.21 79.638c-2.81 19.966 11.119 38.46 31.085 41.27l74.565 10.496z" fill="#848484"/><g><path className="blade" d="M1873.215 1930.229c8.546 10.74 24.206 12.521 34.945 3.975 10.74-8.546 12.52-24.205 3.973-34.945l-178.946-224.872c-8.546-10.74-24.205-12.522-34.945-3.975-10.74 8.546-12.52 24.205-3.973 34.945l178.946 224.872z" fill="#424242"/></g><g><path className="blade" d="M1716.967 1908.551c-7.643 11.4-4.593 26.863 6.806 34.505 11.401 7.644 26.863 4.592 34.505-6.808l160.033-238.703c7.643-11.4 4.593-26.863-6.807-34.506-11.4-7.642-26.862-4.591-34.505 6.81l-160.032 238.702z" fill="#424242"/></g></svg>
        </div>
    );
};

export default AnimatedPlane;